<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module
 * Represents a .
 * The title of the book.
 * The author of the book.
*/

import React from "react";
import ReactDOM from "react-dom";

import 'bootstrap';
import 'bootstrap/less/bootstrap.less';

import MainMenuLayout from './components/core/main-menu-layout';
import MainComponentLayout from './components/core/main-component-layout';
import CommonLayout from './components/core/common-layout';

import Detail from './components/mybookings/detail';
import List from './components/mybookings/list';
import NotFound from './components/core/not-found';
import ListClients from './components/myclients/list';

import { URL, URL_CALENDAR, URL_LOGIN, URL_LOGOUT } from './constants/config';


import Calendar from './components/calendar1';

import { Provider } from 'react-redux';
import store from './store';
import { Router, Route, IndexRoute, hashHistory, browserHistory } from 'react-router';
import { syncHistoryWithStore } from 'react-router-redux';


import Login from './components/myusers/login';
import * as auth from './api/auth';
import * as ws from './api/websocket';

const history = syncHistoryWithStore(browserHistory, store);

/**
 * Represents a login.
 * @constructor
 * @param {string} nextState - The title of the book.
 * @param {string} replace - The author of the book.
*/
function login(nextState, replace) {

    if (!auth.loggedIn()) {
        replace({
            pathname: URL_LOGIN,
            state: {nextPathname: nextState.location.pathname}
        })
    }else {
        ws.connectWebSocket(this.props);
    }
}

/**
 * Represents a logout.
 * @function
 * @param {string} nextState - The title of the book.
 * @param {string} replace -лывраол  оыр лорыа л
 */
function logout(nextState, replace) {

    if (auth.logout()) {
        replace({
            pathname: URL_LOGOUT,
            state: {nextPathname: URL}

        })
        // debugger;
        // browserHistory.push(nextState.location.pathname);
    }
}

ReactDOM.render(
    &lt;Provider store={store}>
        &lt;Router history={history}>
            &lt;Route path="/">
                &lt;IndexRoute component={CommonLayout}/>
                &lt;Route component={MainMenuLayout} onEnter={ login } >
                    &lt;Route path="list" component={MainComponentLayout}>
                        &lt;IndexRoute component={List}/>
                        &lt;Route path=':id/' component={Detail}/>
                    &lt;/Route>
                    &lt;Route path="clients" component={MainComponentLayout}>
                        &lt;IndexRoute component={ListClients}/>
                        &lt;Route path=':id/' component={Detail}/>
                    &lt;/Route>
                    &lt;Route path="calendar" component={Calendar}/>
                &lt;/Route>
                &lt;Route path='/login/' component={Login} />
                &lt;Route path='/logout/' onEnter={ logout } />
                &lt;Route path='*' component={NotFound}/>
            &lt;/Route>
        &lt;/Router>
    &lt;/Provider>,
    document.getElementById('mybooking-app')
);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="Represents%2520a%2520.%250AThe%2520title%2520of%2520the%2520book.%250AThe%2520author%2520of%2520the%2520book.module_.html">Represents a .
The title of the book.
The author of the book.</a></li></ul><h3>Classes</h3><ul><li><a href="Represents%2520a%2520.%250AThe%2520title%2520of%2520the%2520book.%250AThe%2520author%2520of%2520the%2520book.module_-login.html">login</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.3</a> on Sat Aug 05 2017 10:40:40 GMT+0300 (EEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
